# Vence Frontend - Development Guide

## Project Overview

This is a Next.js 16 frontend application for Vence, a creative agency landing page with an interactive Figma-like canvas. The project combines marketing content with a powerful visual editor.

**Key Characteristics:**
- Multi-page application with App Router (landing + canvas)
- Dark-themed marketing/portfolio site
- Interactive canvas with React Konva
- Component-based architecture
- Mobile-first responsive design
- Animated floating dock navigation

---

## Tech Stack

### Core Dependencies
- **Next.js**: v16.1.4 (App Router)
- **React**: v19.2.3
- **TypeScript**: v5 (strict mode enabled)
- **Tailwind CSS**: v4 (PostCSS plugin)
- **Framer Motion**: v12.0.2 (animations for floating dock)
- **React Konva**: v18.2.10 (canvas rendering)
- **Konva**: v9.3.18 (2D canvas library)
- **Node.js**: v20 (development)

### UI & Utilities
- **@tabler/icons-react**: v3.30.0 (icon library)
- **clsx**: v2.1.1 (conditional classnames)
- **tailwind-merge**: v2.8.0 (merge Tailwind classes)

### Notable Absences
- ❌ No react-flow (using react-konva instead)
- ❌ No axios or HTTP clients (no API integration yet)
- ❌ No state management libraries (useState/Context API sufficient)
- ❌ No UI component libraries (custom components with shadcn patterns)
- ❌ No form libraries or validation

---

## Project Structure

```
frontend/
├── app/                          # Next.js App Router
│   ├── main/                    # Canvas route
│   │   └── page.tsx             # Figma-like canvas page (client component)
│   ├── layout.tsx               # Root layout (server component)
│   ├── page.tsx                 # Main landing page (client component)
│   ├── globals.css              # Global styles & Tailwind imports
│   └── favicon.ico
├── components/                  # React components
│   ├── canvas/                  # Canvas-specific components
│   │   └── FigmaCanvas.tsx      # Main canvas component with Konva
│   ├── ui/                      # Reusable UI components (shadcn-style)
│   │   └── floating-dock.tsx    # Floating dock navigation
│   └── floating-dock-demo.tsx   # Dock configuration/usage
├── lib/                         # Utility functions
│   └── utils.ts                 # cn() utility for classnames
├── public/                      # Static assets
│   ├── bg.gif                   # Background animation
│   └── *.svg                    # Icon assets
├── for_promts/                  # Project context/assets
├── package.json                 # Dependencies & scripts
├── tsconfig.json                # TypeScript configuration
├── next.config.ts               # Next.js configuration
├── postcss.config.mjs           # PostCSS/Tailwind configuration
├── eslint.config.mjs            # ESLint rules
├── CANVAS_GUIDE.md              # Canvas feature documentation
├── .claude.md                   # Development guide (this file)
└── README.md                    # Project documentation
```

### File Organization Patterns
- **Component-based**: `/components` for reusable React components
- **Feature folders**: `/components/canvas`, `/components/ui` for organization
- **Utility library**: `/lib` for shared utilities and helpers
- **App Router**: All routes in `app/` directory
- **Client components**: Use `"use client"` directive when interactivity needed
- **Server components**: Default for layouts and static content
- **Dynamic imports**: Use for heavy client components (e.g., canvas)

---

## Development Rules & Conventions

### 1. Code Organization

**DO:**
- Keep page components in `app/` following Next.js conventions
- Use `layout.tsx` for shared layouts
- Use `page.tsx` for route pages
- Place static assets in `public/`
- Keep the codebase minimal and focused

**DON'T:**
- Create unnecessary abstractions or component folders
- Split components unless there's a clear reuse case
- Add dependencies without explicit need

### 2. File Naming Conventions

**Next.js Special Files:**
- `layout.tsx` - Layout components (reserved name)
- `page.tsx` - Page components (reserved name)
- `globals.css` - Global styles
- `loading.tsx` - Loading UI (if needed)
- `error.tsx` - Error boundaries (if needed)

**General Files:**
- Use lowercase with extensions: `config.ts`, `types.ts`
- Config files: `*.config.ts`, `*.config.mjs`
- TypeScript files: `.tsx` for React components, `.ts` for utilities

**Variables & Components:**
- Components: PascalCase default exports (e.g., `export default function Page()`)
- Variables: camelCase (e.g., `interDisplay`, `nextConfig`)
- Constants: SCREAMING_SNAKE_CASE or camelCase based on context
- CSS classes: Tailwind utility classes (no custom naming system)

### 3. TypeScript Patterns

**Configuration:**
```typescript
// tsconfig.json enforces:
{
  "strict": true,           // Strict type checking
  "target": "ES2017",       // Modern JS features
  "noEmit": true,           // Let Next.js handle compilation
  "jsx": "react-jsx"        // React 19 JSX transform
}
```

**Type Import Pattern:**
```typescript
import type { Metadata } from "next";
import type { NextConfig } from "next";
```

**Component Typing:**
```typescript
// Layout props
export default function RootLayout({
  children,
}: Readonly<{
  children: React.ReactNode;
}>) {
  return <html>{children}</html>
}

// Metadata export
export const metadata: Metadata = {
  title: "Vence",
  description: "Description here",
};
```

**Rules:**
- ✅ Always use type imports with `import type`
- ✅ Leverage Next.js provided types (Metadata, NextConfig)
- ✅ Strict mode is enabled - no implicit any, proper null checks
- ✅ Use Readonly for props when appropriate
- ❌ Avoid complex custom types unless necessary
- ❌ No `any` types - use `unknown` if truly needed

### 4. React & Next.js Patterns

**Client vs Server Components:**
```typescript
// Server component (default)
export default function Layout({ children }) {
  return <html>{children}</html>
}

// Client component (when interactivity needed)
"use client";

export default function Page() {
  // Can use hooks, event handlers, browser APIs
  return <div onClick={...}>...</div>
}
```

**Rules:**
- ✅ Use server components by default (better performance)
- ✅ Add `"use client"` only when you need:
  - React hooks (useState, useEffect, etc.)
  - Event handlers (onClick, onChange, etc.)
  - Browser APIs (window, document, etc.)
- ✅ Use `next/image` for all images (optimization)
- ✅ Use `next/link` for all navigation (client-side routing)
- ✅ Use `next/font` for font optimization

**Image Pattern:**
```typescript
import Image from "next/image";

// Remote images (configure in next.config.ts)
<Image
  src="https://external-domain.com/image.jpg"
  alt="Descriptive alt text"
  width={800}
  height={600}
  priority  // For above-the-fold images
/>

// Local images
<Image
  src="/logo.png"
  alt="Logo"
  width={100}
  height={50}
/>
```

**Link Pattern:**
```typescript
import Link from "next/link";

<Link href="/about" className="...">
  About
</Link>
```

### 5. Styling with Tailwind CSS

**Configuration:**
- Tailwind CSS v4 via PostCSS plugin
- Custom theme variables in `globals.css`
- Utility-first approach

**Color Scheme:**
```css
/* globals.css */
:root {
  --background: #0a0a0a;    /* Dark background */
  --foreground: #ededed;     /* Light text */
}
```

**Standard Colors:**
- Background: `bg-[#0a0a0a]` or `bg-black`
- Text: `text-white`, `text-gray-400`, `text-white/70` (with opacity)
- Accents: Use Tailwind color palette (blue, purple, emerald, etc.)

**Typography:**
```typescript
// Font setup in layout.tsx
import { Inter } from "next/font/google";

const inter = Inter({
  subsets: ["latin"],
  variable: "--font-sans",
});

// Apply in className
<body className={inter.className}>
```

**Utility Patterns:**
```typescript
// Layout
className="flex items-center justify-between gap-4"
className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8"

// Sizing
className="w-full h-screen min-h-screen max-w-7xl mx-auto"
className="px-4 py-8 md:px-8 md:py-16"

// Typography
className="text-4xl md:text-5xl lg:text-6xl font-light tracking-tight"
className="leading-[1.2] text-white/90"

// Interactive states
className="hover:opacity-70 transition-opacity duration-200"
className="group-open:rotate-45 transition-transform"
```

**Responsive Design (Mobile-First):**
```typescript
// Base styles apply to mobile, then override for larger screens
className="flex-col md:flex-row"           // Stack on mobile, row on tablet+
className="text-2xl md:text-4xl"           // Smaller text on mobile
className="hidden md:flex"                 // Hide on mobile, show on tablet+
className="grid-cols-1 md:grid-cols-2 lg:grid-cols-3"  // Responsive grid
```

**Breakpoints:**
- `sm:` - 640px (small tablets)
- `md:` - 768px (tablets)
- `lg:` - 1024px (desktops)
- `xl:` - 1280px (large desktops)
- `2xl:` - 1536px (extra large)

**Rules:**
- ✅ Use Tailwind utilities exclusively (no custom CSS classes)
- ✅ Use arbitrary values for exact colors: `bg-[#0a0a0a]`
- ✅ Use opacity modifiers: `text-white/70` (70% opacity)
- ✅ Group related utilities: layout → sizing → spacing → colors → typography
- ✅ Use transitions for interactive states
- ❌ Don't create custom CSS classes unless absolutely necessary
- ❌ Avoid inline styles - use Tailwind utilities

### 6. Semantic HTML & Accessibility

**Structure:**
```typescript
<nav>...</nav>                    // Navigation
<section>...</section>            // Content sections
<article>...</article>            // Self-contained content
<aside>...</aside>                // Sidebar content
<details>                         // Expandable content (FAQ)
  <summary>Question</summary>
  <p>Answer</p>
</details>
<blockquote>...</blockquote>      // Testimonials/quotes
```

**Accessibility Rules:**
- ✅ Always include `alt` text on images
- ✅ Use semantic HTML elements
- ✅ Ensure color contrast meets WCAG standards
- ✅ Use `aria-label` when visual label is missing
- ✅ Keyboard navigation should work for all interactive elements
- ✅ Use `group` utilities for nested hover/focus states

**Example:**
```typescript
<Image
  src="/icon.svg"
  alt="Feature icon representing collaboration"
  width={24}
  height={24}
/>

<details className="group">
  <summary className="cursor-pointer">
    Question
    <span className="group-open:rotate-45">+</span>
  </summary>
  <p>Answer</p>
</details>
```

### 7. Performance Optimization

**Current Patterns:**
- ✅ Static rendering (no dynamic data fetching)
- ✅ Next.js font optimization with `next/font/google`
- ✅ Image lazy loading (default with next/image)
- ✅ Priority loading for above-the-fold images
- ✅ No CSS-in-JS overhead (Tailwind compiles at build time)

**Best Practices:**
```typescript
// Font optimization
import { Inter } from "next/font/google";
const inter = Inter({ subsets: ["latin"] });

// Prioritize above-the-fold images
<Image src="..." alt="..." priority />

// Configure remote image domains
// next.config.ts
export default {
  images: {
    remotePatterns: [
      {
        protocol: "https",
        hostname: "external-domain.com",
      },
    ],
  },
}
```

---

## API Integration (Future Considerations)

**Current Status:** No API integration exists yet.

**When Adding APIs:**

### Option 1: Next.js Route Handlers (Recommended)
```typescript
// app/api/contact/route.ts
export async function POST(request: Request) {
  const body = await request.json();

  // Process request
  return Response.json({ success: true });
}
```

### Option 2: External API with Axios
```bash
npm install axios
```

```typescript
// lib/api.ts
import axios from "axios";

const api = axios.create({
  baseURL: process.env.NEXT_PUBLIC_API_URL,
  headers: {
    "Content-Type": "application/json",
  },
});

export default api;
```

**Environment Variables:**
```bash
# .env.local
NEXT_PUBLIC_API_URL=https://api.example.com
API_SECRET_KEY=your-secret-key
```

**Rules for API Integration:**
- ✅ Use Next.js Route Handlers for API routes when possible
- ✅ Use environment variables for API endpoints
- ✅ Handle errors gracefully with try-catch
- ✅ Show loading states during API calls
- ✅ Use server-side API calls when possible (better security)
- ❌ Don't expose API keys in client-side code

---

## State Management (Future Considerations)

**Current Status:** No state management needed (static content).

**When Adding State:**

### Simple State (Recommended for this project)
```typescript
"use client";
import { useState } from "react";

export default function Component() {
  const [isOpen, setIsOpen] = useState(false);
  return <button onClick={() => setIsOpen(!isOpen)}>Toggle</button>
}
```

### Global State (If needed)
Consider Zustand for lightweight global state:
```bash
npm install zustand
```

```typescript
// store/useStore.ts
import { create } from 'zustand';

interface Store {
  count: number;
  increment: () => void;
}

export const useStore = create<Store>((set) => ({
  count: 0,
  increment: () => set((state) => ({ count: state.count + 1 })),
}));
```

---

## Configuration Files

### next.config.ts
```typescript
import type { NextConfig } from "next";

const nextConfig: NextConfig = {
  images: {
    remotePatterns: [
      {
        protocol: "https",
        hostname: "framerusercontent.com",
      },
    ],
  },
};

export default nextConfig;
```

**Common Configuration Options:**
- `images.remotePatterns` - Allow external image domains
- `redirects` - Set up URL redirects
- `rewrites` - Proxy API requests
- `env` - Environment variables
- `typescript.ignoreBuildErrors` - Skip TS errors in build (NOT recommended)

### eslint.config.mjs
```javascript
import { dirname } from "path";
import { fileURLToPath } from "url";
import { FlatCompat } from "@eslint/eslintrc";

const __filename = fileURLToPath(import.meta.url);
const __dirname = dirname(__filename);

const compat = new FlatCompat({
  baseDirectory: __dirname,
});

const eslintConfig = [
  ...compat.extends(
    "next/core-web-vitals",
    "next/typescript"
  ),
  {
    ignores: [".next/", "out/", "build/", "next-env.d.ts"],
  },
];

export default eslintConfig;
```

### postcss.config.mjs
```javascript
const config = {
  plugins: {
    "@tailwindcss/postcss": {},
  },
};

export default config;
```

---

## Scripts

```bash
# Development server (http://localhost:3000)
npm run dev

# Production build
npm run build

# Start production server
npm run start

# Lint code
npm run lint
```

---

## Git Workflow

**Branch Structure:**
- `main` - Production branch (currently active)
- Feature branches: `feature/feature-name`
- Bug fixes: `fix/bug-description`

**Commit Message Guidelines:**
```bash
# Format: <type>: <description>

# Examples:
feat: add contact form component
fix: resolve mobile navigation bug
style: update button hover states
refactor: simplify page component structure
docs: update README with setup instructions
```

---

## Code Quality Checklist

Before committing code, ensure:

- [ ] TypeScript strict mode passes (no type errors)
- [ ] ESLint passes (`npm run lint`)
- [ ] All images have descriptive alt text
- [ ] Mobile responsive design tested
- [ ] Color contrast meets WCAG AA standards
- [ ] Interactive elements have hover/focus states
- [ ] Code follows existing patterns and conventions
- [ ] No console.log or debugging code left in
- [ ] Component is client component only if interactivity needed
- [ ] Used `next/image` and `next/link` instead of native HTML

---

## Common Patterns Reference

### Page Component Structure
```typescript
"use client";

export default function Page() {
  return (
    <div className="min-h-screen w-full bg-[#0a0a0a] text-white">
      {/* Navigation */}
      <nav className="fixed top-0 left-0 right-0 z-50">
        {/* Nav content */}
      </nav>

      {/* Hero Section */}
      <section className="relative min-h-screen flex items-center justify-center">
        {/* Hero content */}
      </section>

      {/* Content Sections */}
      <section className="py-16 md:py-24">
        {/* Section content */}
      </section>
    </div>
  );
}
```

### Card Component Pattern
```typescript
<div className="group relative overflow-hidden rounded-lg bg-white/5 p-6 transition-all hover:bg-white/10">
  <Image
    src="/image.jpg"
    alt="Card image"
    width={400}
    height={300}
    className="rounded-lg"
  />
  <h3 className="mt-4 text-xl font-semibold">Title</h3>
  <p className="mt-2 text-gray-400">Description</p>
</div>
```

### Button Pattern
```typescript
<button className="px-6 py-3 bg-white text-black rounded-full font-medium hover:bg-gray-200 transition-colors">
  Click me
</button>

<Link
  href="/contact"
  className="px-6 py-3 bg-white text-black rounded-full font-medium hover:bg-gray-200 transition-colors inline-block"
>
  Get Started
</Link>
```

### Grid Layout Pattern
```typescript
<div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
  {items.map((item) => (
    <div key={item.id}>{/* Card content */}</div>
  ))}
</div>
```

---

## Development Philosophy

**Core Principles:**
1. **Simplicity First** - Avoid unnecessary abstractions
2. **Performance Matters** - Optimize for Core Web Vitals
3. **Accessibility Always** - Build inclusive experiences
4. **Mobile First** - Design for smallest screens first
5. **TypeScript Strict** - Catch errors at compile time
6. **Semantic HTML** - Use the right element for the job
7. **Minimal Dependencies** - Only add what you need
8. **Convention Over Configuration** - Follow Next.js patterns

**When in Doubt:**
- Check existing code patterns in `app/page.tsx`
- Refer to Next.js 16 documentation
- Keep it simple and focused
- Ask before adding new dependencies

---

## Resources

- [Next.js 16 Documentation](https://nextjs.org/docs)
- [React 19 Documentation](https://react.dev)
- [Tailwind CSS v4 Documentation](https://tailwindcss.com/docs)
- [TypeScript Documentation](https://www.typescriptlang.org/docs)
- [WCAG Accessibility Guidelines](https://www.w3.org/WAI/WCAG21/quickref)

---

**Last Updated:** 2026-01-24
**Next.js Version:** 16.1.4
**React Version:** 19.2.3
**Tailwind Version:** 4.x
